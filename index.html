<meta charset="UTF-8">
<style>
body {
   margin: 0 auto;
   align-items: center;
  justify-content: center;
  margin-top: 60px;
  justify-content: center;
  background: linear-gradient(135deg, #dedede, #8a8a8a);
  font-size: 5em;
  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen,
    Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;
  font-weight: 800;
  min-height: 100vh;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  position: relative;
}

body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #dedede, #8a8a8a);
  z-index: -1;
  pointer-events: none;
}

section {
  margin: 0 auto;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 400px;
  height: 310px;
  animation-duration: 2s;
  animation-name: cube-rotate;
  animation-iteration-count: infinite;
  animation-direction: alternate;
  animation-timing-function: ease-in-out;
}
.toolbar {
  display: flex;
  align-items: center;
  justify-content: center;
}
.collapsible1 {
  border-top-left-radius: 25px;
  border-bottom-left-radius: 25px;
  background-color: #777;
  color: white;
  cursor: pointer;
  padding: 18px;
  width: 250px;
  top: 80px;
  border: none;
  text-align: center;
  outline: none;
  font-size: 35px;
  position: relative;
  opacity: 0.4;
}
.collapsible2 {
  background-color: #777;
  color: white;
  cursor: pointer;
  padding: 18px;
  width: 300px;
  top: 80px;
  border: none;
  text-align: center;
  outline: none;
  font-size: 35px;
  position: relative;
  opacity: 0.4;
}
.collapsible3 {
  border-top-right-radius: 25px;
  border-bottom-right-radius: 25px;
  background-color: #777;
  color: white;
  cursor: pointer;
  padding: 18px;
  top: 80px;
  width: 250px;
  border: none;
  text-align: center;
  outline: none;
  font-size: 35px;
  position: relative;
  opacity: 0.4;
}

.active, .collapsible:hover {
  background-color: #555;
}

.content {
    border-radius: 25px;
    position: absolute;
    margin-top: 40px;
    margin-bottom: 100px;;
    padding: 0 18px;
    width: 710px;
    top: 450px;
    max-height: 0;
    overflow: hidden;
    transition:
        max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1),
        opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1),
        transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);

    color: white;
    font-size: 18px;
    font-family: 'Arial', sans-serif;
    transform: rotateX(-90deg);
    transform-origin: top;
    will-change: max-height, opacity, transform;
    -webkit-overflow-scrolling: touch;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    opacity: 0;
}

.content * {
    transform: none !important;
    transform-style: flat !important;
    perspective: none !important;
    animation: none !important;
    white-space: normal !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
}

.active + .content {
    opacity: 1;
    max-height: 3000px;
    transform: rotateX(0deg);
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
}

.active + .content * {
    transform: none !important;
    transform-style: flat !important;
    perspective: none !important;
    animation: none !important;
}

/* Ensure proper line breaks and text formatting in content */
.content p,
.content h2,
.content span,
.content div,
.content article,
.content section {
    white-space: normal !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    word-break: normal !important;
    line-height: 1.5 !important;
    display: block !important;
}

.content p {
    margin-bottom: 10px !important;
    text-align: left !important;
}

.content h2 {
    margin-bottom: 8px !important;
    text-align: left !important;
}

/* Timeline specific text formatting */
.content section#timeline article div.inner p {
    white-space: normal !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    word-break: normal !important;
    line-height: 1.6 !important;
    text-align: left !important;
    margin: 0 !important;
    padding: 15px !important;
}

.content section#timeline article div.inner h2 {
    white-space: normal !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    word-break: normal !important;
    line-height: 1.3 !important;
    text-align: left !important;
    margin: 0 !important;
    padding: 15px !important;
}

/* Ensure timeline content displays properly */
.content section#timeline {
    display: block !important;
    width: 100% !important;
    height: auto !important;
    overflow: visible !important;
    position: relative !important;
}

.content section#timeline:before {
    content: '' !important;
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    background: none !important;
    z-index: 0 !important;
    pointer-events: none !important;
}

/* CSS-based connecting lines */
.content section#timeline article {
    position: relative !important;
}

/* Single connecting line using pseudo-elements */
.content section#timeline::before {
    content: '' !important;
    position: absolute !important;
    top: 0 !important;
    left: 50% !important;
    width: 2px !important;
    height: 100% !important;
    background: #000 !important;
    z-index: -1 !important;
    transform: translateX(-50%) !important;
}

/* Remove all the individual card lines */
.content section#timeline article::before,
.content section#timeline article::after,
.content section#timeline article .inner::after {
    display: none !important;
}

/* Vertical connecting lines between cards */
.content section#timeline article:not(:last-child) {
    position: relative !important;
}

.content section#timeline article:not(:last-child) .inner::after {
    content: '' !important;
    position: absolute !important;
    bottom: -30px !important;
    left: 50% !important;
    width: 2px !important;
    height: 30px !important;
    background: #000 !important;
    z-index: 1 !important;
    transform: translateX(-50%) !important;
}

.content section#timeline article {
    display: block !important;
    width: 100% !important;
    height: auto !important;
    margin-bottom: 40px !important;
    overflow: visible !important;
    position: relative !important;
}

.content section#timeline article div.inner {
    display: block !important;
    width: 50% !important;
    height: auto !important;
    overflow: visible !important;
    background: #f8f9fa !important;
    border: 1px solid rgba(233, 236, 239, 0.6) !important;
    border-radius: 12px !important;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08) !important;
    padding: 15px 20px !important;
    margin: 8px auto !important;
    transition: all 0.3s ease !important;
    backdrop-filter: blur(10px) !important;
    background-size: cover !important;
    background-position: top center !important;
    background-repeat: no-repeat !important;
    min-height: 400px !important;
    position: relative !important;
}

.content section#timeline article div.inner::before {
    content: '' !important;
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    height: 200px !important;
    background-size: cover !important;
    background-position: top center !important;
    background-repeat: no-repeat !important;
    border-top-left-radius: 12px !important;
    border-top-right-radius: 12px !important;
    z-index: 0 !important;
}

.content section#timeline article:nth-child(1) div.inner::before {
    background-image: url('./img/DevelopFilmOnline.png') !important;
}

.content section#timeline article:nth-child(2) div.inner::before {
    background-image: url('./img/deepyoutube.png') !important;
}

.content section#timeline article:nth-child(3) div.inner::before {
    background-image: url('./img/DataMergeTool.png') !important;
}

.content section#timeline article:nth-child(4) div.inner::before {
    background-image: url('./img/HL7Visualizer.png') !important;
}

.content section#timeline article:nth-child(5) div.inner::before {
    background-image: url('./img/RightFax.png') !important;
}

.content section#timeline article:nth-child(6) div.inner::before {
    background-image: url('./img/BarcodeTool.png') !important;
}

.content section#timeline article:nth-child(7) div.inner::before {
    background-image: url('./img/SearchTheSeas.png') !important;
}

.content section#timeline article:nth-child(4n+1) div.inner {
    margin-left: 10% !important;
    margin-right: auto !important;
    background: #f0f0f0 !important;
}

.content section#timeline article:nth-child(4n+2) div.inner {
    margin-left: auto !important;
    margin-right: 10% !important;
    background: #f4f4f4 !important;
}

.content section#timeline article:nth-child(4n+3) div.inner {
    margin-left: 10% !important;
    margin-right: auto !important;
    background: #e8e8e8 !important;
}

.content section#timeline article:nth-child(4n+4) div.inner {
    margin-left: auto !important;
    margin-right: 10% !important;
    background: #f8f8f8 !important;
}

.content section#timeline article div.inner:hover {
    box-shadow: 0 8px 24px rgba(0,0,0,0.12) !important;
    transform: translateY(-2px) !important;
    background: #f8f9fa !important;
}

.content section#timeline article div.inner span.date {
    background: #3498db !important;
    color: white !important;
    padding: 8px 16px !important;
    border-radius: 20px !important;
    font-size: 12px !important;
    font-weight: 600 !important;
    display: inline-block !important;
    margin-bottom: 15px !important;
    box-shadow: 0 2px 8px rgba(52, 152, 219, 0.3) !important;
    position: relative !important;
    z-index: 1 !important;
    margin-top: 160px !important;
}

.content section#timeline article div.inner h2 {
    color: #2c3e50 !important;
    font-size: 20px !important;
    font-weight: 600 !important;
    margin-bottom: 10px !important;
    padding-bottom: 10px !important;
    border-bottom: 2px solid #3498db !important;
    position: relative !important;
    z-index: 1 !important;
}

.content section#timeline article div.inner p {
    color: #555 !important;
    line-height: 1.6 !important;
    margin: 0 !important;
    font-size: 14px !important;
    position: relative !important;
    z-index: 1 !important;
}

/* Isolation creates a new stacking context for mix-blend-mode. See: https://developer.mozilla.org/en-US/docs/Web/CSS/isolation */
.isolate {
  isolation: isolate;
  position: absolute;
  top: 0;
  height: 100%;
  width: 100%;
}

@keyframes cube-rotate {
  from {
    transform: perspective(600px) rotate3d(0.6, 0.05, 0.2, 0deg);
  }

  to {
    transform: perspective(600px) rotate3d(0.6, 0.05, 0.2, 20deg);
  }
}

@keyframes shimmer {
  from {
    filter: contrast(190%) brightness(500%);
  }

  to {
    filter: contrast(190%) brightness(130%);
  }
}

.noise {
  width: 100%;
  height: 100%;
  padding: 8px;
  background: linear-gradient(24deg, rgba(50 0 255/10%), CornflowerBlue), url("data:image/svg+xml,%3Csvg viewBox='0 0 400 310' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.55' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  background-clip: text;
  -webkit-background-clip: text;
	color: transparent;
  animation-duration: 2s;
  animation-name: shimmer;
  animation-iteration-count: infinite;
  animation-direction: alternate;
}

.overlay {
  position: absolute;
  top: 0;
  width: 100%;
  height: 100%;
  background: #5F5F5F;
  mix-blend-mode: multiply;
  box-shadow: 1px 3px 3px #000222;
  z-index: -1;
}

/* Special case Chrome. mix-blend-mode is treated differently. Works best in Safari! */
@media all and (-webkit-min-device-pixel-ratio:0) and (min-resolution: .001dpcm) {
  .overlay {
    opacity: 0.4;
  }
}

/* Creative Works Images */
.content section#creative-timeline article:nth-child(1) div.inner::before {
    background-image: url('./img/Earthling2.jpg') !important;
}

.content section#creative-timeline article:nth-child(2) div.inner::before {
    background-image: url('./img/baukunst1.jpg') !important;
}

.content section#creative-timeline article:nth-child(3) div.inner::before {
    background-image: url('./img/Earthling1.jpeg') !important;
}

.content section#creative-timeline article:nth-child(4) div.inner::before {
    background-image: url('./img/SnowfallTapes.jpeg') !important;
}

.content section#creative-timeline article:nth-child(5) div.inner::before {
    background-image: url('./img/Magnet.jpg') !important;
}

/* Creative Works - General timeline styling */
.content section#creative-timeline {
    display: block !important;
    width: 100% !important;
    height: auto !important;
    overflow: visible !important;
    position: relative !important;
}

.content section#creative-timeline::before {
    content: '' !important;
    position: absolute !important;
    top: 0 !important;
    left: 50% !important;
    width: 2px !important;
    height: 100% !important;
    background: #000 !important;
    z-index: -1 !important;
    transform: translateX(-50%) !important;
}

.content section#creative-timeline article {
    display: block !important;
    width: 100% !important;
    height: auto !important;
    margin-bottom: 40px !important;
    overflow: visible !important;
    position: relative !important;
}

.content section#creative-timeline article div.inner {
    display: block !important;
    width: 50% !important;
    height: auto !important;
    overflow: visible !important;
    background: #f8f9fa !important;
    border: 1px solid rgba(233, 236, 239, 0.6) !important;
    border-radius: 12px !important;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08) !important;
    padding: 15px 20px !important;
    margin: 8px auto !important;
    transition: all 0.3s ease !important;
    backdrop-filter: blur(10px) !important;
    min-height: 400px !important;
    position: relative !important;
}

.content section#creative-timeline article div.inner::before {
    content: '' !important;
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    height: 200px !important;
    background-size: cover !important;
    background-position: top center !important;
    background-repeat: no-repeat !important;
    border-top-left-radius: 12px !important;
    border-top-right-radius: 12px !important;
    z-index: 0 !important;
}

/* Creative Works - Different offset pattern (OVERRIDES) */
.content section#creative-timeline article:nth-child(1) div.inner {
    margin-left: auto !important;
    margin-right: 10% !important;
    background: #f0f0f0 !important;
}

.content section#creative-timeline article:nth-child(2) div.inner {
    margin-left: 10% !important;
    margin-right: auto !important;
    background: #f4f4f4 !important;
}

.content section#creative-timeline article:nth-child(3) div.inner {
    margin-left: auto !important;
    margin-right: 10% !important;
    background: #e8e8e8 !important;
}

.content section#creative-timeline article:nth-child(4) div.inner {
    margin-left: 10% !important;
    margin-right: auto !important;
    background: #f8f8f8 !important;
}

.content section#creative-timeline article:nth-child(5) div.inner {
    margin-left: auto !important;
    margin-right: 10% !important;
    background: #f0f0f0 !important;
}

/* Creative Works Text Styling */
.content section#creative-timeline article div.inner span.date {
    background: #3498db !important;
    color: white !important;
    padding: 8px 16px !important;
    border-radius: 20px !important;
    font-size: 12px !important;
    font-weight: 600 !important;
    display: inline-block !important;
    margin-bottom: 15px !important;
    box-shadow: 0 2px 8px rgba(52, 152, 219, 0.3) !important;
    position: relative !important;
    z-index: 1 !important;
    margin-top: 160px !important;
}

.content section#creative-timeline article div.inner h2 {
    color: #2c3e50 !important;
    font-size: 20px !important;
    font-weight: 600 !important;
    margin-bottom: 10px !important;
    padding-bottom: 10px !important;
    border-bottom: 2px solid #3498db !important;
    position: relative !important;
    z-index: 1 !important;
}

.content section#creative-timeline article div.inner p {
    color: #555 !important;
    line-height: 1.6 !important;
    margin: 0 !important;
    font-size: 14px !important;
    position: relative !important;
    z-index: 1 !important;
}

/* First card spacing below toolbar */
.content section#timeline article:first-child {
    margin-top: 30px !important;
}

.content section#creative-timeline article:first-child {
    margin-top: 30px !important;
}

/* 3D Ball Styles */
.ball {
    position: fixed;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: radial-gradient(circle at 30% 30%, #ffffff, #e0e0e0, #c0c0c0);
    box-shadow: 
        inset -4px -4px 8px rgba(0,0,0,0.3),
        inset 4px 4px 8px rgba(255,255,255,0.8),
        0 8px 16px rgba(0,0,0,0.2);
    cursor: grab;
    z-index: 1000;
    transition: transform 0.1s ease-out;
    user-select: none;
    pointer-events: auto;
}

.ball:active {
    cursor: grabbing;
    transform: scale(0.95);
}

.ball::before {
    content: '';
    position: absolute;
    top: 15%;
    left: 15%;
    width: 20%;
    height: 20%;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(255,255,255,0.8), rgba(255,255,255,0.3));
    pointer-events: none;
}

.ball::after {
    content: '';
    position: absolute;
    top: 25%;
    left: 25%;
    width: 8%;
    height: 8%;
    border-radius: 50%;
    background: rgba(255,255,255,0.6);
    pointer-events: none;
}

</style>

<div class="ball" id="ball"></div>

<section>
  <div class="isolate">
    <div class="noise">  ∑ ∑ ∑. ùì°iùöåk ‚ìÇ‚Ñ∞r‚Ñ∞ditùì±  ‚û´ ‚Ä¢ ùìûnlinùìÆ</div>
    <div class="overlay"></div>
  </div>
</section>

<div class="toolbar">
<button class="collapsible1">ùìüortfolio</button>
<div class="content">
  <section id="timeline">
    <article>
      <div class="inner">
        <span class="date">

          <span class="year">2023</span>
        </span>
        <h2>E-Commerce Platform</h2>
        <p>Developed a full-stack e-commerce platform with React frontend, Node.js backend, and MongoDB database. Features include user authentication, product management, shopping cart, and payment integration.</p>
      </div>
    </article>
    <article>
      <div class="inner">
        <span class="date">
          <span class="year">2023</span>
        </span>
        <h2>Mobile Fitness App</h2>
        <p>Created a React Native mobile application for fitness tracking with features like workout plans, progress monitoring, and social sharing. Integrated with wearable devices and health APIs.</p>
      </div>
    </article>
    <article>
      <div class="inner">
        <span class="date">
          
        </span>
        <h2>AI Chatbot Assistant</h2>
        <p>Built an intelligent chatbot using Python, TensorFlow, and natural language processing. The bot handles customer service inquiries, provides product recommendations, and learns from user interactions.</p>
      </div>
    </article>
    <article>
      <div class="inner">
        <span class="date">
          <span class="year">2023</span>
        </span>
        <h2>Data Visualization Dashboard</h2>
        <p>Designed an interactive dashboard using D3.js and Vue.js for real-time data visualization. Includes charts, graphs, and filters for analyzing business metrics and performance indicators.</p>
      </div>
    </article>
    <article>
      <div class="inner">
        <span class="date">
          <span class="year">2023</span>
        </span>
        <h2>Blockchain Smart Contract</h2>
        <p>Developed smart contracts on Ethereum blockchain for decentralized finance applications. Implemented token creation, staking mechanisms, and automated trading protocols using Solidity.</p>
      </div>
    </article>
    <article>
      <div class="inner">
        <span class="date">
          <span class="year">2023</span>
        </span>
        <h2>Cloud Infrastructure Setup</h2>
        <p>Architected and deployed scalable cloud infrastructure using AWS services including EC2, S3, RDS, and Lambda. Implemented CI/CD pipelines with Docker containers and Kubernetes orchestration.</p>
      </div>
    </article>
    <article>
      <div class="inner">
        <span class="date">
          <span class="year">2023</span>
        </span>
        <h2>Machine Learning Model</h2>
        <p>Created a machine learning model for predictive analytics using Python, scikit-learn, and TensorFlow. The model analyzes customer behavior patterns and predicts future trends with 85% accuracy.</p>
      </div>
    </article>
  </section>
</div>
<button class="collapsible2">ùìíreative ùì¶orks</button>
<div class="content">
  <section id="creative-timeline">
    <article>
      <div class="inner">
        <span class="date">
          <span class="year">2023</span>
        </span>
        <h2>Digital Art Collection</h2>
        <p>Created a series of digital artworks using Adobe Creative Suite and Procreate. The collection explores themes of technology and nature, featuring abstract compositions and digital illustrations that blend organic forms with geometric elements.</p>
      </div>
    </article>
    <article>
      <div class="inner">
        <span class="date">
          <span class="year">2023</span>
        </span>
        <h2>Photography Portfolio</h2>
        <p>Developed a comprehensive photography portfolio showcasing urban architecture and street photography. Captured over 500 images across 15 cities, focusing on geometric patterns, light and shadow, and human interaction with urban spaces.</p>
      </div>
    </article>
    <article>
      <div class="inner">
        <span class="date">
          <span class="year">2023</span>
        </span>
        <h2>Web Design Projects</h2>
        <p>Designed and developed custom websites for local businesses and artists. Created responsive layouts, interactive elements, and user-friendly interfaces using modern web technologies and design principles.</p>
      </div>
    </article>
    <article>
      <div class="inner">
        <span class="date">
          <span class="year">2023</span>
        </span>
        <h2>Video Production</h2>
        <p>Produced short films and promotional videos for various clients. Handled all aspects from concept development and storyboarding to filming, editing, and post-production using professional video editing software.</p>
      </div>
    </article>
    <article>
      <div class="inner">
        <span class="date">
          <span class="year">2023</span>
        </span>
        <h2>Brand Identity Design</h2>
        <p>Created complete brand identity packages including logos, color palettes, typography, and brand guidelines for startups and small businesses. Focused on creating memorable, scalable designs that effectively communicate brand values.</p>
      </div>
    </article>
  </section>
</div>
<button class="collapsible3">ùìíontact</button>
<div class="content">
  <p>dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
</div>
</div>

<script>
var coll = document.querySelectorAll('.collapsible1,.collapsible2,.collapsible3');
var currentlyOpen = null;

// Background color change on scroll
let scrollEffectEnabled = false; // Flag to track if scroll effect should be active

window.addEventListener('scroll', function() {
    // Check if Contact content is open
    const contactButton = document.querySelector('.collapsible3');
    if (contactButton && contactButton.classList.contains('active')) {
        return; // Don't change colors when Contact is open
    }
    
    // Check if Portfolio or Creative Works is actually open
    const portfolioButton = document.querySelector('.collapsible1');
    const creativeButton = document.querySelector('.collapsible2');
    const isPortfolioOpen = portfolioButton && portfolioButton.classList.contains('active');
    const isCreativeOpen = creativeButton && creativeButton.classList.contains('active');
    
    // Only apply scroll effect if Portfolio or Creative Works content is open
    if (!isPortfolioOpen && !isCreativeOpen) {
        // Reset to original colors when no content is open
        document.body.style.background = `linear-gradient(135deg, #dedede, #8a8a8a)`;
        
        // Remove any existing dynamic style
        const existingStyle = document.getElementById('dynamic-bg-style');
        if (existingStyle) {
            existingStyle.remove();
        }
        return;
    }
    
    const scrollPosition = window.scrollY;
    const windowHeight = window.innerHeight;
    const documentHeight = document.documentElement.scrollHeight;
    
    // Calculate scroll percentage (0 to 1), but start after 25% scroll
    const rawScrollPercentage = scrollPosition / (documentHeight - windowHeight);
    const scrollPercentage = Math.max(0, (rawScrollPercentage - 0.25) / 0.75); // Start at 25%, scale to 0-1
    
    // Only apply color change if we've scrolled past 25%
    if (rawScrollPercentage < 0.25) {
        // Keep original colors for first 25%
        document.body.style.background = `linear-gradient(135deg, #dedede, #8a8a8a)`;
        return;
    }
    
    // Define more subtle color stops for the gradient
    const colors = [
        { r: 222, g: 222, b: 222 }, // #dedede - starting gray
        { r: 180, g: 180, b: 200 }, // #b4b4c8 - very subtle blue-gray
        { r: 140, g: 140, b: 180 }, // #8c8cb4 - subtle blue-gray
        { r: 100, g: 100, b: 160 }  // #6464a0 - darker blue-gray
    ];
    
    // Interpolate between colors based on scroll position
    const colorIndex = scrollPercentage * (colors.length - 1);
    const color1Index = Math.floor(colorIndex);
    const color2Index = Math.min(color1Index + 1, colors.length - 1);
    const colorBlend = colorIndex - color1Index;
    
    const color1 = colors[color1Index];
    const color2 = colors[color2Index];
    
    // Blend the two colors
    const r = Math.round(color1.r + (color2.r - color1.r) * colorBlend);
    const g = Math.round(color1.g + (color2.g - color1.g) * colorBlend);
    const b = Math.round(color1.b + (color2.b - color1.b) * colorBlend);
    
    // Update the background
    document.body.style.background = `linear-gradient(135deg, rgb(${r}, ${g}, ${b}), rgb(${Math.round(r*0.7)}, ${Math.round(g*0.7)}, ${Math.round(b*0.7)}))`;
    
    // Also update the fixed background pseudo-element
    const style = document.createElement('style');
    style.textContent = `
        body::before {
            background: linear-gradient(135deg, rgb(${r}, ${g}, ${b}), rgb(${Math.round(r*0.7)}, ${Math.round(g*0.7)}, ${Math.round(b*0.7)})) !important;
        }
    `;
    
    // Remove any existing dynamic style
    const existingStyle = document.getElementById('dynamic-bg-style');
    if (existingStyle) {
        existingStyle.remove();
    }
    
    style.id = 'dynamic-bg-style';
    document.head.appendChild(style);
});

for (let i = 0; i < coll.length; i++) {
    coll[i].addEventListener("click", function() {
        var content = this.nextElementSibling;

        // If another section is open and it's not this one
        if (currentlyOpen && currentlyOpen !== this) {
            // Close all others
            for (let j = 0; j < coll.length; j++) {
                coll[j].classList.remove("active");
                var otherContent = coll[j].nextElementSibling;
                if (otherContent && otherContent.classList.contains("content")) {
                    otherContent.style.maxHeight = null;
                }
            }
            // Delay opening this one
            setTimeout(() => {
                this.classList.add("active");
                // Force recalculation of content height
                content.style.maxHeight = "none";
                setTimeout(() => {
                    content.style.maxHeight = content.scrollHeight + "px";
                    // Safari scroll fix
                    if (navigator.userAgent.includes('Safari') && !navigator.userAgent.includes('Chrome')) {
                        setTimeout(() => {
                            content.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }, 100);
                    }
                }, 10);
                currentlyOpen = this;
            }, 250); // 250ms delay
        } else {
            // Toggle this one
            if (content.style.maxHeight && content.style.maxHeight !== "0px") {
                this.classList.remove("active");
                content.style.maxHeight = null;
                currentlyOpen = null;
            } else {
                this.classList.add("active");
                // Force recalculation of content height
                content.style.maxHeight = "none";
                setTimeout(() => {
                    content.style.maxHeight = content.scrollHeight + "px";
                    // Safari scroll fix
                    if (navigator.userAgent.includes('Safari') && !navigator.userAgent.includes('Chrome')) {
                        setTimeout(() => {
                            content.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }, 100);
                    }
                }, 10);
                currentlyOpen = this;
            }
        }
    });
}

// 3D Ball Interaction
const ball = document.getElementById('ball');
let isDragging = false;
let startX, startY, ballX, ballY;
let velocityX = 0;
let velocityY = 0;
let lastMouseX = 0;
let lastMouseY = 0;
let mouseVelocityX = 0;
let mouseVelocityY = 0;

// Physics constants
const gravity = 0.5;
const bounceDamping = 0.7;
const friction = 0.98;
let groundY = window.innerHeight - 60; // Ball height

// Position ball in top-left corner initially
ball.style.left = '20px';
ball.style.top = '20px';

// Start physics simulation with diagonal throw
function startPhysics() {
    if (!isDragging) {
        // Give the ball initial diagonal velocity (throw across screen)
        velocityX = 8; // Horizontal velocity to the right
        velocityY = -3; // Upward velocity (negative for upward movement)
        continuePhysics();
    }
}

// Start physics when page loads
setTimeout(startPhysics, 100);

// Mouse events
ball.addEventListener('mousedown', function(e) {
    e.preventDefault();
    isDragging = true;
    startX = e.clientX - ball.offsetLeft;
    startY = e.clientY - ball.offsetTop;
    lastMouseX = e.clientX;
    lastMouseY = e.clientY;
    mouseVelocityX = 0;
    mouseVelocityY = 0;
    ball.style.cursor = 'grabbing';
    
    // Stop any existing momentum
    velocityX = 0;
    velocityY = 0;
});

// Touch events
ball.addEventListener('touchstart', function(e) {
    e.preventDefault();
    isDragging = true;
    const touch = e.touches[0];
    startX = touch.clientX - ball.offsetLeft;
    startY = touch.clientY - ball.offsetTop;
    lastMouseX = touch.clientX;
    lastMouseY = touch.clientY;
    mouseVelocityX = 0;
    mouseVelocityY = 0;
    ball.style.cursor = 'grabbing';
    
    // Stop any existing momentum
    velocityX = 0;
    velocityY = 0;
});

// Mouse move
document.addEventListener('mousemove', function(e) {
    if (!isDragging) return;
    
    // Calculate mouse velocity
    mouseVelocityX = e.clientX - lastMouseX;
    mouseVelocityY = e.clientY - lastMouseY;
    lastMouseX = e.clientX;
    lastMouseY = e.clientY;
    
    ballX = e.clientX - startX;
    ballY = e.clientY - startY;
    
    // Keep ball within screen bounds
    const maxX = window.innerWidth - ball.offsetWidth;
    const maxY = window.innerHeight - ball.offsetHeight;
    
    ballX = Math.max(0, Math.min(ballX, maxX));
    ballY = Math.max(0, Math.min(ballY, maxY));
    
    ball.style.left = ballX + 'px';
    ball.style.top = ballY + 'px';
});

// Touch move
document.addEventListener('touchmove', function(e) {
    if (!isDragging) return;
    e.preventDefault();
    
    const touch = e.touches[0];
    
    // Calculate touch velocity
    mouseVelocityX = touch.clientX - lastMouseX;
    mouseVelocityY = touch.clientY - lastMouseY;
    lastMouseX = touch.clientX;
    lastMouseY = touch.clientY;
    
    ballX = touch.clientX - startX;
    ballY = touch.clientY - startY;
    
    // Keep ball within screen bounds
    const maxX = window.innerWidth - ball.offsetWidth;
    const maxY = window.innerHeight - ball.offsetHeight;
    
    ballX = Math.max(0, Math.min(ballX, maxX));
    ballY = Math.max(0, Math.min(ballY, maxY));
    
    ball.style.left = ballX + 'px';
    ball.style.top = ballY + 'px';
});

// Mouse up
document.addEventListener('mouseup', function() {
    if (!isDragging) return;
    
    isDragging = false;
    ball.style.cursor = 'grab';
    
    // Use the mouse velocity for the throw
    velocityX = mouseVelocityX * 0.3;
    velocityY = mouseVelocityY * 0.3 - 2; // Add upward boost for natural throw feel
    
    // Ensure minimum velocity for interesting movement
    if (Math.abs(velocityX) < 1 && Math.abs(velocityY) < 1) {
        velocityX = Math.random() > 0.5 ? 6 : -6; // Random left or right
        velocityY = -4; // Upward throw
    }
    
    // Continue physics simulation
    continuePhysics();
});

// Touch end
document.addEventListener('touchend', function(e) {
    if (!isDragging) return;
    
    isDragging = false;
    ball.style.cursor = 'grab';
    
    // Use the touch velocity for the throw
    velocityX = mouseVelocityX * 0.3;
    velocityY = mouseVelocityY * 0.3 - 2; // Add upward boost for natural throw feel
    
    // Ensure minimum velocity for interesting movement
    if (Math.abs(velocityX) < 1 && Math.abs(velocityY) < 1) {
        velocityX = Math.random() > 0.5 ? 6 : -6; // Random left or right
        velocityY = -4; // Upward throw
    }
    
    // Continue physics simulation
    continuePhysics();
});

function continuePhysics() {
    if (isDragging) return; // Don't run physics while dragging
    
    const currentX = parseFloat(ball.style.left) || 0;
    const currentY = parseFloat(ball.style.top) || 0;
    
    // Apply gravity
    velocityY += gravity;
    
    let newX = currentX + velocityX;
    let newY = currentY + velocityY;
    
    // Bounce off screen edges
    const maxX = window.innerWidth - ball.offsetWidth;
    
    if (newX <= 0 || newX >= maxX) {
        velocityX = -velocityX * bounceDamping;
        newX = Math.max(0, Math.min(newX, maxX));
    }
    
    // Ground collision and bounce
    if (newY >= groundY) {
        newY = groundY;
        velocityY = -velocityY * bounceDamping;
        
        // Apply friction when on ground
        velocityX *= friction;
        
        // Stop if velocity is very low and on ground
        if (Math.abs(velocityX) < 0.5 && Math.abs(velocityY) < 2) {
            return;
        }
    }
    
    // Ceiling collision
    if (newY <= 0) {
        newY = 0;
        velocityY = -velocityY * bounceDamping;
    }
    
    ball.style.left = newX + 'px';
    ball.style.top = newY + 'px';
    
    // Continue animation
    requestAnimationFrame(continuePhysics);
}

// Add hover effect (mouse only)
ball.addEventListener('mouseenter', function() {
    if (!isDragging) {
        ball.style.transform = 'scale(1.1)';
    }
});

ball.addEventListener('mouseleave', function() {
    if (!isDragging) {
        ball.style.transform = 'scale(1)';
    }
});

// Update ground position on window resize
window.addEventListener('resize', function() {
    groundY = window.innerHeight - 60;
});

var coll = document.querySelectorAll('.collapsible1,.collapsible2,.collapsible3');
</script>


</meta>
